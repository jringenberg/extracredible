/* 
  Color System
  ────────────
  Grays & accent blue in HSL; yellow scale as hex for warmth.
  --yellow-{30,60,90}: light → saturated accent yellow.
*/

:root {
  /* Base Colors */
  --color-black: hsl(0, 0%, 0%);
  --color-white: hsl(0, 0%, 100%);
  --color-gray-1: hsl(0, 0%, 96%);
  --color-gray-2: hsl(0, 0%, 95%);
  --color-gray-disabled: hsl(0, 0%, 79%);

  /* Accent Blue — Klein Blue */
  --color-accent: hsl(223, 100%, 33%);

  /* Accent Yellow — warm highlight scale (higher = more saturated) */
  --yellow-30: #ffffe0;  /* Lightest: button hover */
  --yellow-60: #ffffc7;  /* Medium: input focus */
  --yellow-90: #fef9c3;  /* Strongest: link / interactive hover */

  /* Semantic tokens */
  --color-accent-2: hsl(0, 0%, 94%); /* Textarea default */
  --color-text-primary: var(--color-black);

  /* Yellow highlight: padding for more visible highlight; negative margin keeps typography unchanged */
  --highlight-pad: 0.12em;
  --highlight-pad-inline: 0.2em;
}

/* Dark mode (future) */
@media (prefers-color-scheme: dark) {
  :root {
    --color-text-primary: hsl(0, 0%, 95%);
  }
}

/* 
  Typography System
  ─────────────────
  1. 1rem (16px) Times New Roman, all caps, 8% letter spacing
  2. 1.5rem (24px) Times New Roman, 1.875rem (30px) line height
  3. 0.875rem (14px) Helvetica, all caps
  4. 0.5625rem (9px) Helvetica, all caps, 8% letter spacing
*/

/* Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Base */
body {
  font-family: 'Times New Roman', Times, serif;
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text-primary);
  background: #fdfdfd;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body.faucet-active {
  background: var(--color-black);
  color: var(--color-white);
}

button {
  font-family: Helvetica, Arial, sans-serif;
  border: none;
  cursor: pointer;
}

a {
  color: var(--color-accent);
  text-decoration: none;
  transition: color 0.2s ease;
  padding: var(--highlight-pad) var(--highlight-pad-inline);
  margin: calc(-1 * var(--highlight-pad)) calc(-1 * var(--highlight-pad-inline));
}

a:hover {
  background: var(--yellow-90);
}

/* Headlines */
h1 {
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 5px;
  margin-top: 2rem;
  margin-bottom: 3rem;
  font-family: Times New Roman, Times, serif;
  font-size: 1.7rem;
  font-weight: normal;
  line-height: 1.5;
  color: var(--color-accent);
}

/* Content text */
.content {
  margin-top: 0;
  margin-bottom: 0;
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.2rem;
  line-height: 1.8rem;
  color: var(--color-accent);
}

.content + .content {
  margin-top: 0;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

textarea {
  font-family: 'Times New Roman', Times, serif;
  font-size: 1rem;
  line-height: 1.5;
  color: inherit;
}

ul {
  list-style: none;
}

/* Typography Classes */
.t-heading {
  /* Style 1: 16px TNR, all caps, 8% letter spacing */
  font-family: 'Times New Roman', Times, serif;
  font-size: 1rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  line-height: 1.3;
}

.t-title {
  /* Style 2: 24px TNR, 30px line height */
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.5rem;
  line-height: 1.875rem;
  font-weight: normal;
}

.t-button {
  /* Style 3: 14.4px (0.9rem) Helvetica, all caps */
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.t-label {
  /* Style 4: 9px Helvetica, all caps, 8% letter spacing */
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.5625rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* Fixed nav buttons */
.nav-fixed {
  position: fixed;
  top: 1rem;
  z-index: 100;
}

.nav-left {
  left: 1rem;
}

.nav-right {
  right: 1rem;
  height: 2.625rem;
  display: flex;
  align-items: center;
}

.dollar-button {
  width: 2.625rem;
  height: 2.625rem;
  background: var(--color-black);
  color: var(--color-white);
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  padding: 0;
}

/* Column titles — shared between left and right */
.col-title {
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.5rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  line-height: 2.625rem;
  text-align: left;
  margin: 0 0 1rem 0;
  color: var(--color-black);
  white-space: nowrap;
}

/* Layout */
.page {
  position: relative;
}

/*
  Two-column layout:
  1. Black belief boxes are centered on the whole page (22rem column in the middle).
  2. Left col floats left in the available left space (past a $ button gutter).
  3. Details overflow to the right of the black boxes.

  Grid: 1fr | 22rem (centered beliefs) | 1fr
  Left col lives in column 1 (left-aligned with margin).
  Details overflow from column 2 into column 3.
*/
.two-col {
  display: grid;
  grid-template-columns: 1fr 22rem 1fr;
  align-items: start;
  width: 100%;
  padding-top: 1rem;
}

.two-col .col-left {
  grid-column: 1;
  width: 22rem;
  justify-self: start;
  margin-left: 4.6rem;
  align-self: stretch;
  color: var(--color-black);
}

.two-col .col-right {
  grid-column: 2;
  width: 22rem;
  min-width: 0;
  overflow: visible;
}

.col-right-inner {
  display: contents;
}

/* Left column sticks at same height as nav buttons */
.col-left-fixed {
  position: sticky;
  top: 1rem;
  max-height: calc(100vh - 2rem);
  overflow-y: auto;
  width: 100%;
}

/* Right column header — explicit height, solid white to mask scrolling content */
.col-right-header {
  position: sticky;
  top: 0;
  height: 4.625rem;
  padding-top: 1rem;
  margin-top: -1rem;
  background: var(--color-white);
  z-index: 50;
  overflow: hidden;
}

.col-right-header .col-title {
  margin: 0;
}

/* Override accent-colored text to black inside left column */
.col-left .content,
.col-left h1 {
  color: var(--color-black);
}


/* Collapsed left col toggle — hidden on wide, shown at stage 3 */
.col-left-toggle {
  display: none;
  background: none;
  border: none;
  padding: 0;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-gray-disabled);
  cursor: pointer;
  margin-left: 1rem;
}

.col-left-toggle:hover {
  color: var(--color-black);
}

/* col-left-body: always visible on wide screens regardless of JS state */
.col-left-body.collapsed {
  display: block;
}

/*
  STAGE 1 (≤82rem): Black boxes lose centering.
  At 82rem the natural gap between left col and center equals the packed 3rem gap,
  so the transition is seamless. Below this, the centered layout would pinch the gap.
*/
@media (max-width: 82rem) {
  .two-col {
    grid-template-columns: 5rem 22rem 3rem 22rem 1fr;
  }

  .two-col .col-left {
    grid-column: 2;
    margin-left: 0;
  }

  .two-col .col-right {
    grid-column: 4;
  }
}

/*
  STAGE 2 (≤66rem): Details bump below their box.
  Packed layout needs 5+22+3+22+14=66rem for details to fit right.
  Details become 2 rows with left/right pairs.
  Grid stays side-by-side but drops the 1fr overflow column.
  Header gets top padding to clear fixed nav buttons.
*/
@media (max-width: 66rem) {
  .two-col {
    grid-template-columns: 5rem 22rem 3rem 22rem;
    padding-top: 4.5rem;
  }

  .two-col .col-right {
    grid-column: 4;
  }

  .col-left-fixed {
    top: 4.5rem;
    max-height: calc(100vh - 5.5rem);
  }

  .col-right-header {
    top: 0;
  }
}

/*
  STAGE 3 (≤52rem): Columns stack vertically.
  Two 22rem columns no longer fit side by side (5+22+3+22=52rem).
  Both columns centered, stacked on top of each other.
*/
@media (max-width: 52rem) {
  .two-col {
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 0 1rem;
    padding-top: 4.5rem;
    align-items: center;
  }

  .two-col .col-left {
    width: 22rem;
    max-width: 100%;
    margin-left: 0;
    align-self: center;
  }

  .two-col .col-right {
    width: 22rem;
    max-width: 100%;
    margin-top: 3rem;
  }

  .col-left-fixed {
    position: static;
  }

  .col-right-header {
    position: static;
    height: auto;
    display: block;
    overflow: visible;
    padding: 0 0 1rem 0;
  }

  /* Backdrop masks scrolling content behind fixed nav buttons (mobile only) */
  body::before {
    content: '';
    position: fixed;
    top: -2rem;
    left: -1rem;
    right: -1rem;
    height: 6rem;
    background: #fdfdfd;
    z-index: 99;
    pointer-events: none;
  }

  body.faucet-active::before {
    background: var(--color-black);
  }
}

/*
  STAGE 4 (≤40rem): Left col collapses.
  H1 + [hide]/[show] toggle sits above the sort + beliefs stack.
*/
@media (max-width: 40rem) {
  .nav-left {
    left: 0.5rem;
  }

  .col-left .col-title {
    margin-bottom: 0;
  }

  .col-left-toggle {
    display: inline;
  }

  /* Left col body hidden by JS toggle in this range */
  .col-left-body.collapsed {
    display: none;
  }

  .col-left-body {
    margin-top: 1rem;
  }
}


.main {
  margin-top: 0;
  margin-bottom: 5rem;
}

/* Headline */
/* Hero / Compose Section */
.allcaps {
  text-transform: uppercase;
  letter-spacing: 0.08em;
}


.hero,
.compose {
  width: 100%;
}

.hero-input,
.compose-input {
  margin-top: 1rem;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 1rem;
}

.char-counter {
  flex-shrink: 0;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-gray-disabled);
}

.belief-textarea {
  width: 17rem;
  height: 17rem;
  padding: 1rem 1rem 2rem 1rem;
  background: var(--color-accent-2);
  color: var(--color-black);
  border: none;
  resize: none;
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.2rem;
  line-height: 1.8rem;
  cursor: text;
  overflow-y: auto;
}

.belief-textarea:focus {
  outline: none;
  background: var(--yellow-60);
}

.belief-textarea::placeholder {
  color: var(--color-black);
  opacity: 0.35;
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.2rem;
  line-height: 1.8rem;
}

.belief-textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Hero / Compose Info */
.hero-info,
.compose-info {
  margin-top: 1rem;
  font-family: 'Times New Roman', Times, serif;
  font-size: 1.5rem;
  line-height: 2.25rem;
}

/* Main CTAs: create, sort, connect — shared base + modifiers */
.btn-cta {
  height: 2.625rem;
  padding: 0 1rem;
  border-radius: 1.125rem;
  border: 1px solid var(--color-black);
  background: transparent;
  color: var(--color-black);
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s, opacity 0.2s;
}

.btn-cta:not(:disabled):hover {
  background: var(--yellow-30);
}

.btn-cta:disabled {
  color: hsl(0, 0%, 45%);
  border-color: var(--color-gray-disabled);
  cursor: not-allowed;
}

.btn-cta--create {
  width: 17rem;
}

.btn-cta--connect {
  /* default padding 0 1rem */
}

.btn-cta--sort {
  padding: 0 0.8rem;
}

/* Sort trigger is visual only; select overlays; hover on parent for feedback */
.sort-controls:hover .sort-trigger.btn-cta {
  background: var(--yellow-30);
}

/* Status and Progress */
.status {
  margin-top: 1rem;
  font-family: 'Times New Roman', Times, serif;
  font-size: 0.875rem;
  text-align: center;
  padding: 0.75rem 0.375rem;
  border-radius: 0.5rem;
  background: var(--color-gray-1);
  border: none;
}

.progress-container {
  margin-top: 1rem;
}

.belief-progress .progress-container {
  margin-top: 0;
}

.progress-bar-bg {
  width: 100%;
  height: 0.5rem;
  background: var(--color-gray-2);
  border-radius: 0.25rem;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: var(--color-black);
  transition: width 2s ease;
}

.progress-message {
  margin: 0 0 0.25rem 0;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  line-height: 1.2;
  text-align: left;
  color: var(--color-black);
}

/* Beliefs Section */
.beliefs {
  width: 100%;
  margin-top: 0;
}


/* Sort controls — inline within the h2, vertically centered with the text */
.sort-controls {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: calc(0.5rem + 2px);
  vertical-align: middle;
  margin-right: 0.7rem;
  margin-bottom: 0.3rem;
  cursor: pointer;
}

.sort-label {
  pointer-events: none;
}

/* Composes with .btn-cta .btn-cta--sort; trigger is visual only, select overlays */
.sort-trigger {
  pointer-events: none;
}

.sort-filter-icon {
  width: 1em;
  height: 1em;
}

.sort-native {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.beliefs-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* Belief Card */
.belief-card {
  width: 22rem;
  overflow: visible;
}

.belief-card-inner {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 1.6rem;
}

/* Card: original size (22rem square), fixed dimensions — never changes */
.belief-card-square {
  flex: 0 0 22rem;
  width: 22rem;
  height: 22rem;
}

/* Square belief card with auto-scaling text - fills fixed parent */
.belief-square {
  width: 100%;
  height: 100%;
  background: var(--color-black);
  color: var(--color-white);
  overflow: hidden;
  padding: 2rem;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  box-sizing: border-box;
}

@supports (color: color(display-p3 1 1 1)) {
  .belief-square {
    color: color(display-p3 1.15 1.15 1.15);
  }
}

.belief-square-text {
  font-family: 'Times New Roman', Times, serif;
  text-align: left;
  display: block;
  width: 100%;
  max-width: 100%;
  overflow-wrap: anywhere;
  word-wrap: break-word;
  overflow: hidden;
}

/* Details panel: one spacing token for all vertical rhythm */
.belief-details-panel {
  --detail-gap: 0.35rem;
  display: flex;
  flex-direction: column;
  gap: var(--detail-gap);
  width: 11rem;
  flex-shrink: 0;
}

.belief-detail-row {
  display: flex;
  flex-direction: column;
  gap: var(--detail-gap);
}

.belief-detail-line {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  line-height: 1.4;
  color: var(--color-black);
}

.belief-detail-line--right {
  flex-shrink: 0;
}

/* Block stacks "total staked" + stakes list with same gap as rest of panel */
.belief-detail-block {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: var(--detail-gap);
}

.belief-detail-link {
  background: none;
  border: none;
  padding: var(--highlight-pad) var(--highlight-pad-inline);
  margin: calc(-1 * var(--highlight-pad)) calc(-1 * var(--highlight-pad-inline));
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  font-weight: normal;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-black);
  cursor: pointer;
  text-align: left;
  text-decoration: none;
  transition: background 0.2s;
}

.belief-detail-link:hover:not(:disabled) {
  background: var(--yellow-90);
}

.belief-detail-link:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.belief-stakes-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--detail-gap);
}

.belief-stake-row {
  display: flex;
  flex-wrap: nowrap;
  align-items: baseline;
  gap: 0.5rem;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  line-height: 1.5;
  white-space: nowrap;
}

.belief-stake-row .stake-prefix {
  flex: 0 0 auto;
  padding-left: 0.25em;
  color: var(--color-black);
}

.belief-stake-row .stake-amount {
  flex: 0 0 auto;
}

.belief-stake-row .stake-time {
  flex: 0 0 auto;
}

.belief-stake-row .stake-time a {
  color: inherit;
  text-decoration: none;
  padding: var(--highlight-pad) var(--highlight-pad-inline);
  margin: calc(-1 * var(--highlight-pad)) calc(-1 * var(--highlight-pad-inline));
}

.belief-stake-row .stake-time a:hover {
  background: var(--yellow-90);
}

/* Wide: details to the right — don't crop address */
.belief-stake-row .stake-address {
  flex: 0 1 auto;
  min-width: 0;
}

.belief-stake-row .stake-tx a {
  color: var(--color-accent);
  text-decoration: none;
  transition: background 0.2s ease;
  padding: var(--highlight-pad) var(--highlight-pad-inline);
  margin: calc(-1 * var(--highlight-pad)) calc(-1 * var(--highlight-pad-inline));
}

.belief-stake-row .stake-tx a:hover {
  background: var(--yellow-90);
}

.belief-progress {
  padding: 0.5rem 0 0.5rem 0;
  overflow: hidden;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
  }
  to {
    max-height: 100px;
    opacity: 1;
    padding-top: 0.5rem;
  }
}

/*
  Card responsive: details bump below at stage 2.
  MUST come after card base styles so cascade order wins.
*/
@media (max-width: 66rem) {
  .belief-card-inner {
    display: block;
    width: 22rem;
  }

  .belief-card-square {
    display: block;
  }

  .belief-details-panel {
    display: flex;
    width: 22rem;
    margin-top: 0.5rem;
  }

  .belief-detail-row {
    flex-direction: row;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
  }

  .belief-detail-line--right {
    text-align: right;
  }

  .belief-detail-line--right .belief-detail-link {
    text-align: right;
  }

  /* Below card: allow crop of long address */
  .belief-stake-row .stake-address {
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

/* $ info view: space between the two paragraphs */
.hero-info-view .content + .content {
  margin-top: 1.5rem;
}

/* $ info view (dark mode): white title and content in left col */
body.faucet-active .col-left .col-title,
body.faucet-active .col-left .content {
  color: var(--color-white);
}

body.faucet-active .col-left .content a {
  color: var(--color-white);
  text-decoration: underline;
}

body.faucet-active .col-left .content a:hover {
  background: transparent;
  text-decoration: none;
}

body.faucet-active .dollar-button {
  background: var(--color-white);
  color: var(--color-black);
}

body.faucet-active .btn-cta {
  color: var(--color-white) !important;
  border-color: var(--color-white) !important;
}

/* =========================================== 
   DETAIL PAGES - Belief & Account
   =========================================== */

/* Breadcrumb navigation */
.breadcrumb {
  margin-bottom: 2rem;
}

.breadcrumb-link {
  color: inherit;
  opacity: 0.6;
  text-decoration: none;
}

.breadcrumb-link:hover {
  opacity: 1;
}

/* Belief detail page */
.belief-detail {
  margin-bottom: 3rem;
}

.belief-detail-text {
  font-size: 1.5rem;
  line-height: 1.4;
  margin-bottom: 1rem;
  font-weight: normal;
}

.belief-detail-meta {
  opacity: 0.6;
  margin-bottom: 0.5rem;
}

.belief-detail-stats {
  font-size: 1.125rem;
}

/* Stakes section on detail page */
.stakes-section h2 {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  opacity: 0.6;
  margin-bottom: 1rem;
  font-weight: normal;
}

.stake-inactive {
  opacity: 0.5;
}

/* Badges */
.badge-creator,
.badge-unstaked {
  display: inline-block;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 0.125rem 0.375rem;
  margin-left: 0.5rem;
  border-radius: 2px;
}

.badge-creator {
  background: rgba(0,0,0,0.05);
}

.badge-unstaked {
  background: rgba(255,0,0,0.1);
  color: #c00;
}

/* Account page */
.account-header {
  margin-bottom: 2rem;
}

.account-title {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  opacity: 0.6;
  font-weight: normal;
  margin-bottom: 0.5rem;
}

.account-address {
  font-size: 1.125rem;
  word-break: break-all;
}

/* Empty state */
.empty-state {
  opacity: 0.6;
  padding: 3rem 0;
}

/* Links */
.address-link {
  color: inherit;
  text-decoration: none;
  transition: background 0.2s ease;
  padding: var(--highlight-pad) var(--highlight-pad-inline);
  margin: calc(-1 * var(--highlight-pad)) calc(-1 * var(--highlight-pad-inline));
}

.address-link:hover {
  background: var(--yellow-90);
}

.belief-link {
  color: inherit;
  text-decoration: none;
  display: block;
}

.belief-link:hover .belief-square {
  opacity: 0.7;
}

/* Belief meta on account page */
.belief-meta {
  font-size: 0.875rem;
  opacity: 0.6;
  margin-top: 0.5rem;
}

.belief-stats {
  font-size: 0.9rem;
  margin-top: 0.25rem;
}
